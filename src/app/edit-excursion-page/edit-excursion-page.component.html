<div class='container' *ngIf='excursion'>

  <div class='page-header'>
    <h1>Sortie du {{ excursion.plannedAt | date: 'dd.MM.yyyy' }}</h1>
  </div>

  <form [formGroup]='excursionForm' novalidate>
    <div class='col-md-6 col-sm-8'>
      <div class='participants-controls clearfix'>
        <div class='input-group'>
          <span class='input-group-btn'>
            <button type='button' class='btn btn-success' (click)='addParticipantBatch()'>
              <span class='glyphicon glyphicon-plus'></span>
            </button>
          </span>
          <input type='number' class='form-control new-participant' name='participantsIncrement' min='1' formControlName='participantsIncrement' />
        </div>
      </div>

      <p *ngIf='!excursionForm.controls.participants.controls.length'><em class='text-muted'>Personne ne participe Ã  cette sortie pour le moment</em></p>

      <ul class='list-unstyled'>
        <li *ngFor='let participantForm of excursionForm.controls.participants.controls; let i = index'>
          <bio-participant-form
            [id]='"participant-" + i'
            [form]='participantForm'
            [excursion]='excursion'
            (onRemoved)='onParticipantRemoved($event)'>
          </bio-participant-form>
        </li>
      </ul>
    </div>
  </form>
</div>
