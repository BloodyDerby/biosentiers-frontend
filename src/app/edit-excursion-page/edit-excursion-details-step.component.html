<div class='row'>
  <div class='col-xs-12 col-md-offset-2 col-xs-8'>
    <p class='lead'>Configurez les paramètres de votre sortie.</p>

    <form novalidate *ngIf='excursionForm' [formGroup]='excursionForm' (ngSubmit)='saveExcursion($event)'>
      <div class='form-group'>
        <label for='excursion-trail-id'>Sentier</label>
        <ng-select id='excursion-trail-id' #trailHrefSelect *ngIf='!excursionForm.controls.id.value'
                   formControlName='trailHref' [allowClear]='false' [options]='trailChoices'>
        </ng-select>
        <input type='text' class='form-control' id='excursion-trail-id' value='{{ excursion.trail.name }}'
               *ngIf='excursionForm.controls.id.value' [disabled]='true' />
      </div>

      <div class='form-group' [formGroupError]='excursionForm.get("name")'>
        <label for='excursion-name' class='control-label'>Titre (facultatif)</label>
        <input type='text' id='excursion-name' class='form-control' formControlName='name' />
        <span class='help-block'>Le titre est indicatif. Il vous permettra de plus facilement retrouver la sortie par la suite.</span>
        <bio-form-error [control]='excursionForm.get("name")' error='maxlength'>Le titre ne doit pas dépasser 60 caractères.</bio-form-error>
      </div>

      <div class='form-group'>
        <label for='excursion-planned-at'>Date</label>
        <div class='input-group'>
          <input class='form-control' style='float:none' placeholder='Select a date'
                 formControlName='plannedAt' ngx-mydatepicker [options]='datepickerOptions' #plannedAtDatepicker='ngx-mydatepicker'/>
          <span class='input-group-btn'>
            <button type='button' class='btn btn-default' (click)='plannedAtDatepicker.toggleCalendar();$event.stopPropagation()'>
              <span class='glyphicon glyphicon-calendar'></span>
            </button>
          </span>
        </div>
        <span class='help-block'>
          Indiquez la date à laquelle vous comptez faire cette sortie.
          Si vous n'êtes pas sûr, indiquez une date approximative ou laissez la date actuelle.
        </span>
      </div>
    </form>
  </div>
</div>
